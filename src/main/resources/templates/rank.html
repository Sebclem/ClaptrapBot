<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-144247946-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'UA-144247946-1');
    </script>

    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
    <meta content="width=device-width, initial-scale=1, maximum-scale=1.0" name="viewport"/>
    <title>Claptrap Bot</title>
    <link href="/favicon.png"
          rel="icon"
          type="image/x-icon"/>

    <!-- CSS  -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    <link href="css/materialize.css" media="screen,projection" rel="stylesheet" type="text/css"/>
    <link href="css/style.css" media="screen,projection" rel="stylesheet" type="text/css"/>
    <link href="/manifest.json" rel="manifest"/>
    <meta content="#263238" name="theme-color"/>
    <style>
        tr {
            border-color: #fbcf40;
        }

        h4 span {
            color: #fbcf40;
            font-size: 15px;
            font-weight: normal;
        }

        td span {
            color: #fbcf40;
            font-size: 12px;
        }

        .collapsible {
            border-color: #fbcf40;
            border-left: none;
            border-right: none;
        }

        .collapsible-header {
            border-color: #fbcf40;
        }
    </style>


</head>

<body class="blue-grey lighten-5">

<!--/*@thymesVar id="guild_name" type="java.lang.String"*/-->
<!--/*@thymesVar id="redirect_url" type="java.lang.String"*/-->
<!--/*@thymesVar id="isAdmin" type="java.lang.Boolean"*/-->

<header>
    <div th:replace="header :: header ('rank',${guild_name}, ${isAdmin})">...</div>
</header>

<main>
    <!--/*@thymesVar id="stack" type="net.Broken.Tools.UserManager.Stats.GuildStatsPack"*/-->
    <th:block th:if="${stack != null}">
        <div class="row" style="margin-bottom: 0">
            <div class="col l6 offset-l3 m10 offset-m1 s10 offset-s1 card-panel grey darken-4 white-text">
                <h4 class="center" style="font-weight: bold"><span th:remove="tag" th:text="${guild_name}"></span><br/>Stats
                </h4>
            </div>
        </div>
        <div class="row">
            <div class="card-panel col l6 offset-l3 m10 offset-m1 s10 offset-s1 grey darken-4 white-text">
                <div class="row" style="margin-bottom: 0">
                    <div class="col s12 center" style="margin-top: 10px">
                        <img class="circle" style="border-color: green; border-style: solid;"
                             th:src="${stack.selfStats.avatarUrl}"/>
                    </div>
                    <div class="col s12 center">
                        <h4 style="font-weight: bold; margin: 0;" th:text="${stack.selfStats.userName}"></h4>
                    </div>
                </div>
                <div class="row" style="margin-bottom: 0">
                    <div class="col m6 s12 center">
                        <table class="centered">
                            <thead>
                            <tr>
                                <th>Rank</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>
                                    <h4 style="font-weight: bold; margin: 0"><span th:remove="tag"
                                                                                   th:text="${stack.rank}"></span> <span
                                            th:text="${' / ' + stack.ranking.size()}">/ 50</span></h4>
                                </td>
                            </tr>
                            </tbody>
                        </table>

                    </div>
                    <div class="col m6 s12 center">
                        <table class="centered">
                            <thead>
                            <tr>
                                <th>Experience</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>
                                    <h4 style="font-weight: bold; margin: 0"><span th:remove="tag"
                                                                                   th:text="${stack.selfStats.total}"></span>
                                        <span>Xp</span>
                                    </h4>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>


                <div class="row">
                    <div class="col m6 s12 center">
                        <table class="centered">
                            <thead>
                            <tr>
                                <th>Vocal Time</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>
                                    <h4 style="font-weight: bold; margin: 0">
                                    <span th:remove="tag"
                                          th:text="${T(net.Broken.Tools.TimeConvertor).sToTime(stack.selfStats.voiceTime).get(0)}"></span> <span>H</span>
                                        <span th:remove="tag"
                                              th:text="${T(net.Broken.Tools.TimeConvertor).sToTime(stack.selfStats.voiceTime).get(1)}"></span> <span>M</span>
                                        <span th:remove="tag"
                                              th:text="${T(net.Broken.Tools.TimeConvertor).sToTime(stack.selfStats.voiceTime).get(2)}"></span> <span>S</span>
                                    </h4>
                                </td>
                            </tr>
                            </tbody>
                        </table>

                    </div>
                    <div class="col m6 s12 center">
                        <table class="centered">
                            <thead>
                            <tr>
                                <th>Message count</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>
                                    <h4 style="font-weight: bold; margin: 0"><span
                                            th:remove="tag"
                                            th:text="${stack.selfStats.messageCount}"></span> <span>msg</span>
                                    </h4>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col l6 offset-l3 m10 offset-m1 hide-on-small-and-down card-panel grey darken-4 white-text">
                <h3 class="center"><b>Ranking</b></h3>

                <table class="centered">
                    <thead>
                    <tr>
                        <th>Rank</th>
                        <th></th>
                        <th>Name</th>
                        <th>Vocal Time</th>
                        <th>Message Count</th>
                        <th>Total XP</th>


                    </tr>
                    </thead>

                    <tbody>
                    <th:block th:each="stat : ${stack.ranking}">
                        <tr>
                            <td th:text="${stat.rank}"></td>
                            <td><img class="circle" style="max-height: 50px" th:src="${stat.avatarUrl}"/></td>
                            <td th:text="${stat.userName}"></td>
                            <td> <span th:remove="tag"
                                       th:text="${T(net.Broken.Tools.TimeConvertor).sToTime(stat.voiceTime).get(0)}"></span> <span>H</span>
                                <span th:remove="tag"
                                      th:text="${T(net.Broken.Tools.TimeConvertor).sToTime(stat.voiceTime).get(1)}"></span> <span>M</span>
                                <span th:remove="tag"
                                      th:text="${T(net.Broken.Tools.TimeConvertor).sToTime(stat.voiceTime).get(2)}"></span> <span>S</span></td>
                            <td th:text="${stat.messageCount}"></td>
                            <td th:text="${stat.total}"></td>

                        </tr>
                    </th:block>

                    </tbody>
                </table>

            </div>


            <div class="col s10 offset-s1 hide-on-med-and-up card-panel grey darken-4 white-text">
                <h3 class="center"><b>Ranking</b></h3>

                <ul class="collapsible popout">
                    <th:block th:each="stat : ${stack.ranking}">
                        <li>
                            <div class="collapsible-header grey darken-3 valign-wrapper"><span
                                    style="font-weight: bold" th:text="${stat.rank + '. '}"></span><img
                                    class="circle" style="max-height: 40px; margin: 0 10px 0 10px"
                                    th:src="${stat.avatarUrl}"/> <span
                                    th:text="${stat.userName}"></span><span class="badge new green"
                                                                            data-badge-caption="xp "
                                                                            th:text="${stat.total}">4</span></div>
                            <div class="collapsible-body grey darken-2">
                                <table class="centered">
                                    <thead>
                                    <tr>

                                        <th>Vocal Time</th>
                                        <th>Message Count</th>
                                    </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td> <span
                                                th:remove="tag"
                                                th:text="${T(net.Broken.Tools.TimeConvertor).sToTime(stat.voiceTime).get(0)}"></span> <span>H</span>
                                            <span th:remove="tag"
                                                  th:text="${T(net.Broken.Tools.TimeConvertor).sToTime(stat.voiceTime).get(1)}"></span> <span>M</span>
                                            <span th:remove="tag"
                                                  th:text="${T(net.Broken.Tools.TimeConvertor).sToTime(stat.voiceTime).get(2)}"></span> <span>S</span></td>
                                        <td th:text="${stat.messageCount}"></td>

                                    </tr>
                                    </tbody>
                                </table>
                            </div>


                        </li>
                    </th:block>

                </ul>

            </div>


        </div>
    </th:block>

</main>

<footer class="page-footer" style="padding: 0">
    <div th:replace="footer :: footer">...</div>
</footer>

<!--  Scripts-->
<script th:src="@{/js/jquery-3.3.1.min.js}"></script>
<script th:src="@{/js/materialize.js}"></script>
<script th:src="@{/js/navabar.js}"></script>
<script th:src="@{/js/js.cookie.js}"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        var elems = document.querySelectorAll('.collapsible');
        var instances = M.Collapsible.init(elems);
    });
</script>
<!--<script th:src="@{/js/rank.js}"></script>-->

<script th:src="@{/js/fontawesome.js}"></script>
<script th:src="@{/js/workerRegister.js}"></script>


</body>
</html>
